# Компилятор

Разработка текстового редактора с функциями языкового процессора.

## Оглавление

- [Лабораторная работа №1: Разработка пользовательского интерфейса (GUI) для языкового процессора](#лабораторная-работа-1-разработка-пользовательского-интерфейса-gui-для-языкового-процессора)
- [Лабораторная работа №2: Разработка лексического анализатора (сканера)](#лабораторная-работа-2-разработка-лексического-анализатора-сканера)
- [Лабораторная работа №3: Разработка синтаксического анализатора (парсера)](#лабораторная-работа-3-разработка-синтаксического-анализатора-парсера)
- [Лабораторная работа №4: Нейтрализация ошибок (метод Айронса)](#лабораторная-работа-4-нейтрализация-ошибок-метод-айронса)
- [Лабораторная работа №5: Включение семантики в анализатор. Создание внутренней формы представления программы](#лабораторная-работа-5-включение-семантики-в-анализатор-создание-внутренней-формы-представления-программы)
- [Лабораторная работа №6: Реализация алгоритма поиска подстрок с помощью регулярных выражений](#лабораторная-работа-6-реализация-алгоритма-поиска-подстрок-с-помощью-регулярных-выражений)
- [Лабораторная работа №7: Реализация метода рекурсивного спуска для синтаксического анализа](#лабораторная-работа-7-реализация-метода-рекурсивного-спуска-для-синтаксического-анализа)

## Лабораторная работа №1: Разработка пользовательского интерфейса (GUI) для языкового процессора
**Тема:** разработка текстового редактора с возможностью дальнейшего расширения функционала до языкового процессора.

**Цель работы:** разработать приложение с графическим интерфейсом пользователя, способное редактировать текстовые данные. Это приложение будет базой для будущего расширения функционала в виде языкового процессора.

**Язык реализации:** C#, WPF.

### Интерфейс текстового редактора

![Главное окно программы](/ReadMeImages/overview.png)

#### Получившийся текстовый редактор имеет следующие элементы:
1. Заголовок окна.

   Содержит информацию о названии открытого файла, полного пути к нему, а также о том, сохранен ли он на текущий момент (наличие символа звездочки справа от названия означает наличие несохраненных изменений).
3. Меню
   | Пункт меню | Подпункты |
   | ------ | ------ |
   | Файл | ![Главное окно программы](/ReadMeImages/fileview.png) |
   | Правка | ![Правка](/ReadMeImages/editview.png) |
   | Текст | ![Текст](/ReadMeImages/textview.png) |
   | Пуск | ![Старт](/ReadMeImages/startview.png) |
   | Справка | ![Справка](/ReadMeImages/helpview.png) |
4. Панель инструментов
   
   ![Панель инструментов](/ReadMeImages/toolbarview.png)

   - Создать
   - Открыть
   - Сохранить
   - Изменить размер текста
   - Отменить
   - Повторить
   - Копировать
   - Вырезать
   - Вставить
   - Пуск
   - Вызов справки
   - О программе
5. Область редактирования
   
   Поддерживаются следующие функции:
   - Изменение размера текста
   - Открытие файла при перетаскивании его в окно программы
   - Базовая подсветка синтаксиса
   - Нумерация строк
7. Область отображения результатов

   В область отображения результатов выводятся сообщения и результаты работы языкового процессора.

   Поддерживаются следующие функции:
   - Изменение размера текста
   - Отображение ошибок в виде таблицы
8. Строка состояния

   В дополнении к информации, выводимой в заголовке окна, показываются текушие номера строки и столбца, где находится курсор.

### Справочная система

Разделы справочной системы открываются как HTML-документы в браузере.

| Раздел | Изображение |
| ------ | ------ |
| Вызов справки | <img src="/ReadMeImages/helpview.png" alt="Вызов справки" width="500"> |
| О программе | <img src="/ReadMeImages/aboutviewclick.png" alt="О программе" width="500"> |

### Вывод сообщений

| Сообщение | Описание | Изображение |
| ------ | ------| ------ |
| Закрытие окна программы | Появляется при закрытии программы нажатием крестика или комбинацией клавиш при наличии несохраненных изменений | ![Закрытие окна программы](/ReadMeImages/unsavedchangesview.png) |

## Лабораторная работа №2: Разработка лексического анализатора (сканера)

**Тема:** разработка лексического анализатора (сканера).

**Цель работы:** изучить назначение лексического анализатора. Спроектировать алгоритм и выполнить программную реализацию сканера.

| № | Тема | Пример верной строки | Справка |
| ------ | ------ | ------ | ------ |
| 55 |  Лямбда-выражения языка Haskell | (\x y -> x * y) 10 4 | [ссылка](https://www.ohaskell.guide/lambda-function.html) |

1. Спроектировать диаграмму состояний сканера.
2. Разработать лексический анализатор, позволяющий выделить в тексте лексемы, иные символы считать недопустимыми (выводить ошибку).
3. Встроить сканер в ранее разработанный интерфейс текстового редактора. Учесть, что текст для разбора может состоять из множества строк.

**Входные данные:** строка (текст программного кода).

**Выходные данные:** последовательность условных кодов, описывающих структуру разбираемого текста с указанием места положения и типа.

### Примеры допустимых строк

```Haskell
(\x y -> x * y) 10 4;
```
```Haskell
(\z y z-> x * y) 10 4;
```
```Haskell
(\x y sdf_2-> x * y) 10 4
```
### Диаграмма состояний сканера

![Диаграмма состояний сканера](/ReadMeImages/scannerDiagram.png)

### Тестовые примеры

1. **Тест №1.** Пример, показывающий все возможные лексемы, которые могут быть найдены лексическим анализатором.
   
   ![Тест 1](/ReadMeImages/scanerExample1.png)
2. **Тест №2.** Сложный пример.

   > При нажатии на лексему в таблице, соответствующий фрагмент текста подсвечивается в поле редактирования.
  
   ![Тест 2](/ReadMeImages/scanerExample2.png)


## Лабораторная работа №3: Разработка синтаксического анализатора (парсера)

**Тема:** разработка синтаксического анализатора (парсера).

**Цель работы:** изучить назначение синтаксического анализатора, спроектировать алгоритм и выполнить программную реализацию парсера.

| № | Тема | Пример верной строки | Справка |
| ------ | ------ | ------ | ------ |
| 51 | Лямбда выражение языка Haskell | (\x y -> x * y) 10 4 | [ссылка](https://www.ohaskell.guide/lambda-function.html) |

[Примеры допустимых строк](#примеры-допустимых-строк)

**В соответствии с вариантом задания на курсовую работу необходимо:**
1. Разработать автоматную грамматику.
2. Спроектировать граф конечного автомата (перейти от автоматной грамматики к конечному автомату).
3. Выполнить программную реализацию алгоритма работы конечного автомата.
4. Встроить разработанную программу в интерфейс текстового редактора, созданного на первой лабораторной работе.

### Грамматика

G[&lt;ЦК&gt; = &lt;целочисленная константа&gt;]:

V<sub>T</sub> = { 
   ‘(\’, ‘)’, 
   ‘a’…’z’, ‘A’…’Z’, ‘_’, 
   ‘;’,
   ‘0’…’9’, ‘.’, 
   ‘+’, ‘-‘, ‘*’, ‘/’,
   ‘->’,
   ‘ ’, ‘;’, ‘>’
}

V<sub>N</sub> = { 
   &lt;LF&gt;, 
   ARGFUNC,
   ARGFUNCREM,
   ARROW,
   ARG1REM,
   OPERATION,
   ARG1, ARG2,
   CLOSE,
   NUMBER1, NUMBER2,
   INT1, INT2,
   DECIMAL1, DECIMAL2,
   SPACENUM,
   DECIMAL1REM, DECIMAL2REM
}

P = {
1) LF → (\ ARGFUNC 
2) ARGFUNC → letter ARGFUNCREM  | "-" ARROW 
3) ARGFUNCREM → (letter |  | digit) ARGFUNCREM | " " ARGFUNC  | "-" ARROW 
4) ARROW → > ARG1
5) ARG1 → letter ARG1REM
6) ARG1REM → (letter |  | digit) ARG1REM | (+ | - | * | /) OPERATION
7) OPERATION → letter ARG2
8) ARG2 → (letter |  | digit) ARG2 | ) CLOSE 
9) CLOSE → [+ | -] NUMBER1 
10) NUMBER1 → digit INT1
11) INT1 → digit INT1 | . DECIMAL1 | " " SPACENUM 
12) DECIMAL1 → digit DECIMAL1REM 
13) DECIMAL1REM → digit DECIMAL1REM | " " SPACENUM
14) SPACENUM → [+ | -] NUMBER2
15) NUMBER2 → digit INT2
16) INT2 → digit INT2 | . DECIMAL2 | ; 
17) DECIMAL2 → digit DECIMAL2REM 
18) DECIMAL2REM → digit DECIMAL2REM | ;
19) letter → ‘a’ | ‘b’ | … | ‘z’ | ‘A’ | ‘B’ | … | ‘Z’
20) digit → ‘0’ | ‘1’ | … | ‘9’
}

### Классификация грамматики

   Согласно классификации Хомского, грамматика G[Z] является полностью автоматной.

### Граф конечного автомата

![Граф конечного автомата](/ReadMeImages/finiteAutomatonDiagram.png)

### Тестовые примеры

1. **Тест №1.** Все выражения написаны корректно.
   
   ![Тест 1](/README_images/main_window_new.png)
2. **Тест №2.** Пример ошибок.

   > - При нажатии на строку в таблице, соответствующий фрагмент текста подсвечивается в поле редактирования.
   > 
   > - Нажатие кнопки справа от количества ошибок позволяет их автоматически исправить.
  
   ![Тест 2](/README_images/parser_test_1.png)
3. **Тест №3.** Пример ошибок.

   > - При нажатии на строку в таблице, соответствующий фрагмент текста подсвечивается в поле редактирования.
   > 
   > - Нажатие кнопки справа от количества ошибок позволяет их автоматически исправить.
  
   ![Тест 3](/README_images/parser_test_2.png)

## Лабораторная работа №4: Нейтрализация ошибок (метод Айронса)

## Лабораторная работа №5: Включение семантики в анализатор. Создание внутренней формы представления программы

## Лабораторная работа №6: Реализация алгоритма поиска подстрок с помощью регулярных выражений

## Лабораторная работа №7: Реализация метода рекурсивного спуска для синтаксического анализа
